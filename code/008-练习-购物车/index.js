/** * Created by Mr.zhou on 2016/11/12. */var cartController=function ($scope) {    $scope.cart=[        {            id:1000,            name:'iphone5s',            quantity:3,            price:4300        },{            id:3300,            name:'iphone5',            quantity:30,            price:3300        },{            id:223,            name:'mac',            quantity:4,            price:23000        },{            id:100,            name:'ipad',            quantity:5,            price:6900        }    ];    //增加一个索引    var findIndex=function (id) {        var index=-1;        angular.forEach($scope.cart,function (item,key) {            if(item.id===id){                index=key;                return;            }        });        return index;    };    //计算总价    $scope.totalPrice=function () {        var total=0;        angular.forEach($scope.cart,function (item) {            total+=item.quantity*item.price        });        return total;    };    //计算总价    $scope.totalQuantity=function () {        var total=0;        angular.forEach($scope.cart,function (item) {            total+=parseInt(item.quantity)        });        return total;    };    //移除    $scope.remove=function (id) {        var index=findIndex(id);        //从第几个开始，删除一位        if(index!==-1){            $scope.cart.splice(index,1)        }    };    //清空    $scope.allRemove=function () {        $scope.cart=[]    };    //增加购物数量    $scope.add=function (id) {        var index=findIndex(id);        if(index!==-1){            ++$scope.cart[index].quantity;        }    };    //减少购物数量    $scope.reduce=function (id) {        var index=findIndex(id);        if(index!==-1){            var item=$scope.cart[index];            if(item.quantity>=1){               --item.quantity            }else{                var returnkey=confirm('从购物车删除该产品');                if(returnkey){                    $scope.remove(id);                }            }        }    };};